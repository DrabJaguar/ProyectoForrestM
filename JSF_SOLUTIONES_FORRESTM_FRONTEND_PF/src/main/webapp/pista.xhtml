<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

<h:head>
    <link rel="stylesheet" href="index.css" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ForrestM - Dashboard</title>
</h:head>

<h:body>
   <h:form>
    <p:panel header="ForrestM" styleClass="header-style">
        <div class="loading">
            <span></span> <span></span> <span></span> <span></span> <span></span>
        </div>
        <h1>ForrestM</h1>
        <h2>172.16.254.1 FM</h2>

        <h1>#{pistaBean.nombre_emisora}</h1>
        <h2>#{pistaBean.modo_emisora} #{pistaBean.musica_emisora}</h2>
	   <h:commandButton class="button" action="#{pistaBean.descargar(pistaBean.modo_emisora, pistaBean.musica_emisora)}" value="Guardar Pista" style="left:50px;"/>
			
    </p:panel>

    <p:menu styleClass="lateral-style">
        <p:submenu label="Navegación" styleClass="submenu-style">
            <p:menuitem value="Parámetros de la Emisora" url="index.xhtml" styleClass="menuitem-style" />
            <p:menuitem value="Creación de Pistas Musicales" url="pista.xhtml" styleClass="menuitem-style" />
            <p:menuitem value="Ejecución de la Parrilla de Programación" url="index.xhtml" styleClass="menuitem-style" />
        </p:submenu>
    </p:menu>
</h:form>
   
    	
    	<h:form>
    	 <p:panel header="Parametros Pista" styleClass="panel-m-style" style="top:-800px;">
            <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true" />
            <div class="container">
                <div class="field col-12 md:col-4 name-form">
                    <h5 class="mt-0">Nombre:</h5>
                    <p:autoComplete  value="#{pistaBean.nombre_pista}"
							scrollHeight="250" />
                </div>
                <div class="field col-12 md:col-4 name-form">
                    <h5 class="mt-0">Artista/Banda:</h5>
                    <p:autoComplete  value="#{pistaBean.nombre_artista}"
							
							scrollHeight="250" />
                </div>
                <div class="field col-12 md:col-4 name-form">
                    <h5 class="mt-0">url:</h5>
                    <p:autoComplete  value="#{pistaBean.archivo_pista}"
							
							scrollHeight="250" />
                 </div>
                <h:commandButton class="button" action="#{pistaBean.crearPista}" value="Crear " style="top:30px " />
                
            </div>
        </p:panel>
    
    </h:form>
    
    
    
    <div style="display: flex; width:1700px;  ">

		<p:panel header="Pistas "
			styleClass="panel-m-style emisoras-panel" >
			<h:form>
				<p:dataTable var="pista" value="#{pistaBean.pistalist}"
					emptyMessage="No hay pistas para agregar">
					<p:column headerText="Id">
						<h:outputText value="#{pista.id_pista}" />
					</p:column>
					<p:column headerText="Nombre">
						<h:outputText value="#{pista.nombre_pista}" />
					</p:column>
					<p:column headerText="Género">
						<h:outputText value="#{pista.artista_pista}" />
					</p:column>
					
			
					<p:column>
					   	
         		<iframe width="100%" height="200px" src="#{pista.archivo_pista}"  style="left:-500px"></iframe>
         		
					</p:column>
					<p:column >
						<h:commandButton class="button" action="#{pistaBean.guardar(pista.nombre_pista)}" value="Agregar" style="left:50px;"/>
					</p:column>
				</p:dataTable>
			</h:form>
		</p:panel>

	</div>
    
    

    
    
</h:body>
</html>
